<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Tip Calculator</title>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@1,300&family=Roboto&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="./css/styles.css">
</head>

<!-- <style>
    label {
        display: block;
        font: 1rem 'Fira Sans', sans-serif;
    }

    input,
    label {
        margin: .4rem 0;
    }
</style> -->

<body>

    <div class="header">
        <h1>Let's Calculate your Tip</h1>
    </div>

    <div class="include">
        <span>Include Tax</span>
        <input type="checkbox" id="switch"><label for="switch" class="switchLabel">Toggle</label>
    </div>

    <form action="">

        <div>
            <label for="bill">Bill Amount (pre-tax)</label>
            <input class="formItem" type="number" name="bill" placeholder="Enter bill amount" id="myBillInput" value="100">
        </div>


        <select name="percent" class="formItem" id="myTipInput">
            <option value="">Select Tip Percentage</option>
            <option value="5">5%</option>
            <option value="10" selected>10%</option>
            <option value="15">15%</option>
            <option value="20">20%</option>
            <option value="25">25%</option>
        </select>

        <select name="people" class="formItem" id="people">
            <option value="">How many people?</option>
            <option value="1" selected>1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
        </select>

        <div class="taxSection">
            <span>Enter tax by:</span>
            <label for="taxAmountRadio">Amount</label>
            <input type="radio" name="tax" id="taxAmountRadio" onclick="showCorrectTaxField();" checked>
            <label for="taxRateRadio">Rate</label>
            <input type="radio" name="tax" id="taxRateRadio" onclick="showCorrectTaxField();">
            <input class="formItem" value="" type="number" name="tax" placeholder="Enter Tax Amount" id="tax_Amount">
            <input class="formItem" value="" type="number" name="tax" placeholder="Enter Tax Rate" id="tax_Rate"
                style="display: none;">
        </div>

        <!-- Original: -->
        <!-- <div class="taxSection">
            <span>Enter tax by:</span>
            <div class="taxInput">
                <label for="taxAmountRadio">Amount</label>
                <input type="radio" name="tax" id="taxAmountRadio" onclick="showCorrectTaxField();">
                <input class="formItem" value="" type="number" name="tax" placeholder="Enter Tax Amount"
                    id="tax_Amount">
            </div>
            <div class="taxInput">
                <label for="taxRateRadio">Rate</label>
                <input type="radio" name="tax" id="taxRateRadio" onclick="showCorrectTaxField();">
                <input class="formItem" value="" type="number" name="tax" placeholder="Enter Tax Rate" id="tax_Rate">
            </div>
        </div> -->

    </form>

    <div class="theButton">
        <button class="formItem" type="button" id="goButton">Calculate</button>
    </div>

    <div>
        <p class="output"></p>
    </div>


    <script src="./tipcalculator.js">



        // // To Do
        // // -sort out more elegant way to figure state tax; loop over object etc
        // // -secure from XSS?
        // // -pre-tax/post/tax selector

        // let myTax;
        // let peopleCount;
        // let ifPeople;

        // const printedOutput = document.querySelector('.output');
        // const buttonClick = document.getElementById('goButton');

        // // let selectedState = document.getElementById('state').value;
        // let taxGroup = document.querySelector('.taxSection');
        // let billVal = document.getElementById("myBillInput");
        // let tipVal = document.getElementById("myTipInput");
        // let taxAmount = document.getElementById("tax_Amount")
        // let taxRate = document.getElementById("tax_Rate")
        // let taxSwitch = document.getElementById("switch");

        // function taxToggle() {
        //     taxGroup.classList.toggle('iAmOn');
        // }



        // taxSwitch.addEventListener('click', taxToggle);



        // buttonClick.addEventListener('click', getBillAmount);


        // // Currency will show a string with commas and digits to the hundredth place.
        // function currencyFormat(num) {
        //     return '$' + num.toFixed(2).replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
        // }

        // function getBillAmount() {


        //     let tipAmount = Math.floor((billVal.value * `0.${tipVal.value}`) * 100) / 100;
        //     let billPlusTip = Math.floor((billVal.value * `1.${tipVal.value}`) * 100) / 100;
        //     peopleCount = document.getElementById("people").value;

        //     if (peopleCount >= 2) {
        //         ifPeople = 'per person ';
        //     } else {
        //         ifPeople = "";
        //     }

        //     console.log(taxAmount.value);
        //     console.log(taxRate.value);


        //     // Form validation logic
        //     if ((tipVal.value == '') && (billVal.value == '')) {
        //         tipVal.classList.add('textBoxWarn');
        //         billVal.classList.add('textBoxWarn');
        //         printedOutput.innerHTML = `Select bill amount & tip percentage`;
        //     } else if (billVal.value == '') {
        //         billVal.classList.add('textBoxWarn');
        //         tipVal.classList.remove('textBoxWarn');
        //         billVal.focus();
        //         printedOutput.innerHTML = `Enter bill amount`;
        //     } else if (tipVal.value == '') {
        //         tipVal.classList.add('textBoxWarn');
        //         tipVal.focus();
        //         printedOutput.innerHTML = `Select tip percentage`;
        //     } else {
        //         billVal.classList.remove('textBoxWarn');
        //         tipVal.classList.remove('textBoxWarn');
        //         printedOutput.innerHTML = `Your tip is ${currencyFormat(tipAmount)} and the total ${ifPeople}including tip will be ${currencyFormat(billPlusTip / peopleCount)}.`;
        //     };
        // }

    </script>
</body>

</html>